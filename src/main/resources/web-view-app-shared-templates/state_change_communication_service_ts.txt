import {Injectable} from "@angular/core";
import {Subject} from "rxjs/Subject";
import {NameValuePair} from "./name.value";

/**
 * Communication service indicating page state changes.
 */
@Injectable()
export class StateChangeCommunicationService {
    private stateChangeSubject = new Subject<NameValuePair>();
    stateChangeObservable = this.stateChangeSubject.asObservable();

    /**
     * Notifies listeners that the state of a page has changed.
     *
     * @param data indicates the type of change and contains any data associated with the change.
     */
    fireStateChange(data: NameValuePair) {
        this.stateChangeSubject.next(data);
    }
}