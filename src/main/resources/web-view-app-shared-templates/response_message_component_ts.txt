import { Component } from "@angular/core";
import { ResponseMessageHelper } from "./response.message.helper";
import { Subscription } from "rxjs/Subscription";
import { ResponseMessage } from "./response.message";

@Component({
    selector: 'res-messages',
    templateUrl: 'app/shared/response.message.component.html'
})
export class ResponseMessageComponent {
    messages: Array<ResponseMessage>;
    private subscription: Subscription;

    constructor(private resMsgHelper: ResponseMessageHelper) {
        this.messages = resMsgHelper.messages;

        this.subscription = resMsgHelper.messageUpdate.subscribe((value) => {
            this.messages = value;
        })
    }

    ngOnDestroy() {
        this.subscription.unsubscribe();
    }
}