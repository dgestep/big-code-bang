<main>
    <h1>{{tabName}}</h1>
    <hr>
    <div *ngIf="this.page==='view'">
        <div class="panel panel-default">
            <table class="table">
                <tr>
                    <td>First Name:</td>
                    <td>{{userData.firstName}}</td>
                </tr>
                <tr>
                    <td>Last Name:</td>
                    <td>{{userData.lastName}}</td>
                </tr>
                <tr>
                    <td>Email Address:</td>
                    <td>{{userData.emailAddress}}</td>
                </tr>
                <tr>
                    <td>User Role:</td>
                    <td>{{userData.role}}</td>
                </tr>
                <tr><td>Account Creation:</td><td>{{userData.userCreated}}</td></tr>
                <tr><td>Last Login:</td><td>{{userData.lastLogin}}</td></tr>
            </table>
        </div>
        <button type="button" class="btn btn-primary" aria-label="Left Align" (click)="gotoEdit()">
            <span class="glyphicon glyphicon-edit" aria-hidden="true"></span> Edit Profile
        </button>
        <button type="button" class="btn btn-secondary" aria-label="Right Align" (click)="closeTab()">
            Close
        </button>
    </div>

    <form method="post" *ngIf="this.page==='edit'" [formGroup]="profileForm" (ngSubmit)="saveChanges(profileForm.value)">
        <div class="panel panel-default">
            <table class="table">
                <tr>
                    <td>First Name:</td>
                    <td>
                        <input formControlName="firstName" id="firstNameInput" type="text" class="form-control" placeholder="First Name" value={{userData.firstName}}>
                    </td>
                </tr>
                <tr>
                    <td>Last Name:</td>
                    <td>
                        <input formControlName="lastName" id="lastNameInput" type="text" class="form-control" placeholder="Last Name" value={{userData.lastName}}>
                    </td>
                </tr>
                <tr>
                    <td>Email Address:</td>
                    <td>
                        <input formControlName="emailAddress" id="emailAddressInput" type="text" class="form-control" placeholder="Email Address" value={{userData.emailAddress}}>
                    </td>
                </tr>
                <tr><td>User Role:</td>
                    <td>
                        <select formControlName="role" id="userGroupSelect" class="form-control">
                            <option *ngIf="this.sessionHelper.getRole()==='ADMIN'" value="ADMIN" selected="selected">ADMIN</option>
                            <option *ngIf="this.sessionHelper.getRole()!=='READONLY'" value="USER">USER</option>
                            <option *ngIf="this.sessionHelper.getRole()!=='USER'" value="READONLY">READONLY</option>
                        </select>
                    </td>
                </tr>
                <tr><td>Account Creation:</td><td>{{userData.userCreated}}</td></tr>
                <tr><td>Last Login:</td><td>{{userData.lastLogin}}</td></tr>
            </table>
        </div>
        <button type="submit" class="btn btn-primary" aria-label="Left Align">
            <span class="glyphicon glyphicon-floppy-save" aria-hidden="true"></span> Save Changes
        </button>
        <button type="button" class="btn btn-secondary" aria-label="Left Align" (click)="cancelChanges()">
            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Discard Changes
        </button>
    </form>
    <res-messages></res-messages>
</main>